<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet"
	href="dojo1.6.1/dijit/themes/claro/claro.css">

<script>
	dojoConfig = {
		parseOnLoad : true
	}
</script>
<script src='dojo1.6.1/dojo/dojo.js'></script>
<script>
	dojo.require("dijit.form.Button");

	function sendText() {
		var button = dijit.byId("submitButton2");

		dojo.connect(button, "onClick", function(event) {
			// The parameters to pass to xhrPut, the message, and the url to send it to
			// Also, how to handle the return and callbacks.
			var xhrArgs = {
				url : "putIt",
				putData : "Some random text",
				handleAs : "text",
				load : function(data) {
					dojo.byId("response2").innerHTML = "Message put.";
				},
				error : function(error) {
					// We'll 404 in the demo, but that's okay.  We don't have a 'putIt' service on the
					// docs server.
					dojo.byId("response2").innerHTML = "Message put.";
				}
			}
			dojo.byId("response2").innerHTML = "Message being sent..."
			// Call the asynchronous xhrPost
			var deferred = dojo.xhrPut(xhrArgs);
		});
	}
	dojo.ready(sendText);
</script>
</head>
<body class="claro">
	<b>Push the button to PUT some text.</b>
	<br>
	<br>
	<button data-dojo-type="dijit.form.Button" id="submitButton2">Send
		it!</button>
	<br>
	<br>
	<b>Result</b>
	<div id="response2"></div>
</body>
</html>