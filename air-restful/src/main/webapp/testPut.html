<!DOCTYPE html>
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<script type="text/javascript">
dojoConfig = {parseOnLoad: true}
</script>

<!-- CDN 
<link type="text/css" rel="stylesheet" href=
"//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dijit/themes/tundra/tundra.css">
<script type="text/javascript" src=
"//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js">
</script>
http://dojotoolkit.org/reference-guide/1.8/dojo/xhrPost.html
-->

<!-- local -->
<link rel="stylesheet" href="dojo1.8.1/dijit/themes/tundra/tundra.css">
<script src="dojo1.8.1/dojo/dojo.js"></script>

<script type="text/javascript">
dojo.require("dijit.form.Button");

function sendText(){
  var button = dijit.byId("submitButton2");

  dojo.connect(button, "onClick", function(event){
    // The parameters to pass to xhrPost, the message, and the url to send it to
    // Also, how to handle the return and callbacks.
    var xhrArgs = {
      url: "restful/abc/update",
      putData: dojo.toJson({id:"4",name:"eric",value:"java"}),
      headers: { "Content-Type": "application/json; charset=utf-8" , "Accept" : "application/json; charset=utf-8"},
      handleAs: "json",
      load: function(data){
        dojo.byId("response2").innerHTML = "Message puted.";
      },
      error: function(error){
        // We'll 404 in the demo, but that's okay.  We don't have a 'postIt' service on the
        // docs server.
        dojo.byId("response2").innerHTML = "Message puted.";
      }
    }
    dojo.byId("response2").innerHTML = "Message being sent..."
    // Call the asynchronous xhrPut
    var deferred = dojo.xhrPut(xhrArgs);
  });
}
dojo.ready(sendText);
</script>

<title></title>
</head>
<body class="tundra">
	<b>Push the button to PUT some JSON.</b>
	<br>
	<br>
	<button data-dojo-type="dijit/form/Button" id="submitButton2">Send it!</button>
	<br>
	<br>
	<b>Result</b>

	<div id="response2"></div>
	http://dojotoolkit.org/reference-guide/1.8/dojo/xhrPut.html
	<br/><a href="index.html" target="_self">Go Home</a><br/>
</body>
</html>